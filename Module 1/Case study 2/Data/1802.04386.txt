We introduce megagreedoids, which generalize polymatroids, megamatroids, and greedoids. We define a quasisymmetric function invariant for a megagreedoid, and show that it has a positive expansion in the basis of fundamental quasisymmetric functions. Our proof involves lexicographic shellability. We also show that megagreedoids form a Hopf monoid. A running example is a megagreedoid associated to a rooted connected graph, and the resulting generalization of the chromatic symmetric function.
