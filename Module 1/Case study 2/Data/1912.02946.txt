Same-day delivery for e-commerce has become a popular service. Companies usually offer several time delivery options with the earliest one being next hour delivery. Due to tight delivery deadlines and thin margins, companies often find it challenging to provide efficient same-day delivery services. In this work, we propose a holistic scheme that combines the optimization of routing and pricing for same-day delivery. The proposed approach is able to take into account uncertainty in travel times, a crucial factor for delivery applications in urban environments. We model this problem as a Markov decision process. We apply a value function approximation technique to compute opportunity costs. Based on these opportunity costs, as well as the customer choice model and travel time distribution, we optimize the prices for various delivery deadlines. We perform extensive computational experiments to compare the proposed model with baseline policies. We also investigate how the (potentially wrong) choice of travel time distributions affect the performance of the proposed optimization scheme. Through numerical simulations of realistic scenarios, we observe that compared to the deterministic model, the proposed approach can reduce the number of missed deliveries up to 40%; at the same time, it can increase revenue by more than 5% compared to the baseline policies. We explore new issues that arise due to the stochastic nature of the problem such as the effect of penalties for missed deliveries on pricing structure and overall revenue.
