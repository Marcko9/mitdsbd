Magnetometers based on quantum mechanical processes enable high sensitivity and long-term stability without the need for re-calibration, but their integration into fieldable devices remains challenging. This paper presents a CMOS quantum vector-field magnetometer that miniaturizes the conventional quantum sensing platforms using nitrogen-vacancy (NV) centers in diamond. By integrating key components for spin control and readout, the chip performs magnetometry through optically detected magnetic resonance (ODMR) through a diamond slab attached to a custom CMOS chip. The ODMR control is highly uniform across the NV centers in the diamond, which is enabled by a CMOS-generated $\sim$2.87 GHz magnetic field with <5% inhomogeneity across a large-area current-driven wire array. The magnetometer chip is 1.5 mm$^2$ in size, prototyped in 65-nm bulk CMOS technology, and attached to a 300$\times$80 $Î¼$m2 diamond slab. NV fluorescence is measured by CMOS-integrated photodetectors. This on-chip measurement is enabled by efficient rejection of the green pump light from the red fluorescence through a CMOS-integrated spectral filter based on a combination of spectrally dependent plasmonic losses and diffractive filtering in the CMOS back-end-of-line (BEOL). This filter achieves $\sim$25 dB of green light rejection. We measure a sensitivity of 245 nT/Hz$^{1/2}$, marking a 130$\times$ improvement over a previous CMOS-NV sensor prototype, largely thanks to the better spectral filtering and homogeneous microwave generation over larger area.
